{"filter":false,"title":"graps.js","tooltip":"/assets/js/graps.js","undoManager":{"mark":92,"position":92,"stack":[[{"start":{"row":221,"column":0},"end":{"row":221,"column":3},"action":"insert","lines":["// "],"id":580},{"start":{"row":222,"column":0},"end":{"row":222,"column":3},"action":"insert","lines":["// "]},{"start":{"row":223,"column":0},"end":{"row":223,"column":3},"action":"insert","lines":["// "]},{"start":{"row":224,"column":0},"end":{"row":224,"column":3},"action":"insert","lines":["// "]},{"start":{"row":226,"column":0},"end":{"row":226,"column":3},"action":"insert","lines":["// "]},{"start":{"row":228,"column":0},"end":{"row":228,"column":3},"action":"insert","lines":["// "]},{"start":{"row":229,"column":0},"end":{"row":229,"column":3},"action":"insert","lines":["// "]},{"start":{"row":230,"column":0},"end":{"row":230,"column":3},"action":"insert","lines":["// "]},{"start":{"row":232,"column":0},"end":{"row":232,"column":3},"action":"insert","lines":["// "]},{"start":{"row":233,"column":0},"end":{"row":233,"column":3},"action":"insert","lines":["// "]},{"start":{"row":234,"column":0},"end":{"row":234,"column":3},"action":"insert","lines":["// "]},{"start":{"row":235,"column":0},"end":{"row":235,"column":3},"action":"insert","lines":["// "]},{"start":{"row":236,"column":0},"end":{"row":236,"column":3},"action":"insert","lines":["// "]},{"start":{"row":238,"column":0},"end":{"row":238,"column":3},"action":"insert","lines":["// "]}],[{"start":{"row":21,"column":4},"end":{"row":21,"column":7},"action":"insert","lines":["// "],"id":581}],[{"start":{"row":21,"column":1},"end":{"row":21,"column":29},"action":"remove","lines":["   // candidate_people(ndx);"],"id":582}],[{"start":{"row":34,"column":29},"end":{"row":35,"column":0},"action":"insert","lines":["",""],"id":583},{"start":{"row":35,"column":0},"end":{"row":35,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":35,"column":4},"end":{"row":35,"column":32},"action":"insert","lines":["   // candidate_people(ndx);"],"id":584}],[{"start":{"row":135,"column":23},"end":{"row":136,"column":0},"action":"insert","lines":["",""],"id":585},{"start":{"row":136,"column":0},"end":{"row":136,"column":8},"action":"insert","lines":["        "]},{"start":{"row":136,"column":8},"end":{"row":136,"column":9},"action":"insert","lines":["."]},{"start":{"row":136,"column":9},"end":{"row":136,"column":10},"action":"insert","lines":["o"]}],[{"start":{"row":136,"column":10},"end":{"row":136,"column":11},"action":"insert","lines":["r"],"id":586},{"start":{"row":136,"column":11},"end":{"row":136,"column":12},"action":"insert","lines":["d"]},{"start":{"row":136,"column":12},"end":{"row":136,"column":13},"action":"insert","lines":["e"]}],[{"start":{"row":136,"column":13},"end":{"row":136,"column":14},"action":"insert","lines":["r"],"id":587},{"start":{"row":136,"column":14},"end":{"row":136,"column":15},"action":"insert","lines":["i"]},{"start":{"row":136,"column":15},"end":{"row":136,"column":16},"action":"insert","lines":["n"]}],[{"start":{"row":136,"column":16},"end":{"row":136,"column":17},"action":"insert","lines":["g"],"id":588}],[{"start":{"row":136,"column":17},"end":{"row":136,"column":19},"action":"insert","lines":["()"],"id":589}],[{"start":{"row":136,"column":18},"end":{"row":136,"column":19},"action":"insert","lines":["f"],"id":590},{"start":{"row":136,"column":19},"end":{"row":136,"column":20},"action":"insert","lines":["u"]}],[{"start":{"row":136,"column":18},"end":{"row":136,"column":20},"action":"remove","lines":["fu"],"id":591},{"start":{"row":136,"column":18},"end":{"row":136,"column":26},"action":"insert","lines":["function"]}],[{"start":{"row":136,"column":26},"end":{"row":136,"column":28},"action":"insert","lines":["()"],"id":592}],[{"start":{"row":136,"column":27},"end":{"row":136,"column":28},"action":"insert","lines":["6"],"id":593}],[{"start":{"row":136,"column":29},"end":{"row":136,"column":30},"action":"insert","lines":[" "],"id":594}],[{"start":{"row":136,"column":30},"end":{"row":136,"column":32},"action":"insert","lines":["{}"],"id":595}],[{"start":{"row":136,"column":31},"end":{"row":136,"column":32},"action":"insert","lines":["r"],"id":596},{"start":{"row":136,"column":32},"end":{"row":136,"column":33},"action":"insert","lines":["e"]},{"start":{"row":136,"column":33},"end":{"row":136,"column":34},"action":"insert","lines":["t"]}],[{"start":{"row":136,"column":34},"end":{"row":136,"column":35},"action":"insert","lines":["u"],"id":597},{"start":{"row":136,"column":35},"end":{"row":136,"column":36},"action":"insert","lines":["r"]},{"start":{"row":136,"column":36},"end":{"row":136,"column":37},"action":"insert","lines":["n"]}],[{"start":{"row":136,"column":37},"end":{"row":136,"column":38},"action":"insert","lines":[" "],"id":598},{"start":{"row":136,"column":38},"end":{"row":136,"column":39},"action":"insert","lines":["-"]},{"start":{"row":136,"column":39},"end":{"row":136,"column":40},"action":"insert","lines":["d"]}],[{"start":{"row":136,"column":40},"end":{"row":136,"column":41},"action":"insert","lines":["."],"id":599},{"start":{"row":136,"column":41},"end":{"row":136,"column":42},"action":"insert","lines":["v"]},{"start":{"row":136,"column":42},"end":{"row":136,"column":43},"action":"insert","lines":["a"]}],[{"start":{"row":136,"column":41},"end":{"row":136,"column":43},"action":"remove","lines":["va"],"id":600},{"start":{"row":136,"column":41},"end":{"row":136,"column":46},"action":"insert","lines":["value"]}],[{"start":{"row":136,"column":27},"end":{"row":136,"column":28},"action":"remove","lines":["6"],"id":601}],[{"start":{"row":136,"column":27},"end":{"row":136,"column":28},"action":"insert","lines":["d"],"id":602}],[{"start":{"row":136,"column":8},"end":{"row":136,"column":48},"action":"remove","lines":[".ordering(function(d) {return -d.value})"],"id":603},{"start":{"row":136,"column":8},"end":{"row":136,"column":30},"action":"insert","lines":[".order(d3.descending);"]}],[{"start":{"row":136,"column":29},"end":{"row":136,"column":30},"action":"remove","lines":[";"],"id":604}],[{"start":{"row":136,"column":17},"end":{"row":136,"column":18},"action":"remove","lines":["."],"id":605},{"start":{"row":136,"column":16},"end":{"row":136,"column":17},"action":"remove","lines":["3"]},{"start":{"row":136,"column":15},"end":{"row":136,"column":16},"action":"remove","lines":["d"]}],[{"start":{"row":136,"column":15},"end":{"row":136,"column":16},"action":"insert","lines":["d"],"id":606},{"start":{"row":136,"column":16},"end":{"row":136,"column":17},"action":"insert","lines":["e"]}],[{"start":{"row":136,"column":17},"end":{"row":136,"column":18},"action":"insert","lines":["."],"id":607}],[{"start":{"row":136,"column":18},"end":{"row":136,"column":19},"action":"remove","lines":["d"],"id":608},{"start":{"row":136,"column":18},"end":{"row":136,"column":19},"action":"remove","lines":["e"]},{"start":{"row":136,"column":18},"end":{"row":136,"column":19},"action":"remove","lines":["s"]},{"start":{"row":136,"column":18},"end":{"row":136,"column":19},"action":"remove","lines":["c"]},{"start":{"row":136,"column":18},"end":{"row":136,"column":19},"action":"remove","lines":["e"]},{"start":{"row":136,"column":18},"end":{"row":136,"column":19},"action":"remove","lines":["n"]},{"start":{"row":136,"column":18},"end":{"row":136,"column":19},"action":"remove","lines":["d"]},{"start":{"row":136,"column":18},"end":{"row":136,"column":19},"action":"remove","lines":["i"]},{"start":{"row":136,"column":18},"end":{"row":136,"column":19},"action":"remove","lines":["n"]},{"start":{"row":136,"column":18},"end":{"row":136,"column":19},"action":"remove","lines":["g"]}],[{"start":{"row":136,"column":18},"end":{"row":136,"column":19},"action":"insert","lines":["a"],"id":609},{"start":{"row":136,"column":19},"end":{"row":136,"column":20},"action":"insert","lines":["s"]},{"start":{"row":136,"column":20},"end":{"row":136,"column":21},"action":"insert","lines":["e"]}],[{"start":{"row":136,"column":20},"end":{"row":136,"column":21},"action":"remove","lines":["e"],"id":610}],[{"start":{"row":136,"column":20},"end":{"row":136,"column":21},"action":"insert","lines":["s"],"id":611}],[{"start":{"row":136,"column":20},"end":{"row":136,"column":21},"action":"remove","lines":["s"],"id":612}],[{"start":{"row":136,"column":20},"end":{"row":136,"column":21},"action":"insert","lines":["c"],"id":613},{"start":{"row":136,"column":21},"end":{"row":136,"column":22},"action":"insert","lines":["e"]}],[{"start":{"row":136,"column":21},"end":{"row":136,"column":22},"action":"remove","lines":["e"],"id":614}],[{"start":{"row":136,"column":18},"end":{"row":136,"column":21},"action":"remove","lines":["asc"],"id":616},{"start":{"row":136,"column":18},"end":{"row":136,"column":40},"action":"insert","lines":[".order(d3.descending);"]}],[{"start":{"row":136,"column":39},"end":{"row":136,"column":40},"action":"remove","lines":[";"],"id":617},{"start":{"row":136,"column":38},"end":{"row":136,"column":39},"action":"remove","lines":[")"]},{"start":{"row":136,"column":37},"end":{"row":136,"column":38},"action":"remove","lines":["g"]},{"start":{"row":136,"column":36},"end":{"row":136,"column":37},"action":"remove","lines":["n"]},{"start":{"row":136,"column":35},"end":{"row":136,"column":36},"action":"remove","lines":["i"]},{"start":{"row":136,"column":34},"end":{"row":136,"column":35},"action":"remove","lines":["d"]},{"start":{"row":136,"column":33},"end":{"row":136,"column":34},"action":"remove","lines":["n"]},{"start":{"row":136,"column":32},"end":{"row":136,"column":33},"action":"remove","lines":["e"]},{"start":{"row":136,"column":31},"end":{"row":136,"column":32},"action":"remove","lines":["c"]},{"start":{"row":136,"column":30},"end":{"row":136,"column":31},"action":"remove","lines":["s"]},{"start":{"row":136,"column":29},"end":{"row":136,"column":30},"action":"remove","lines":["e"]},{"start":{"row":136,"column":28},"end":{"row":136,"column":29},"action":"remove","lines":["d"]},{"start":{"row":136,"column":27},"end":{"row":136,"column":28},"action":"remove","lines":["."]}],[{"start":{"row":136,"column":26},"end":{"row":136,"column":27},"action":"remove","lines":["3"],"id":618},{"start":{"row":136,"column":25},"end":{"row":136,"column":26},"action":"remove","lines":["d"]},{"start":{"row":136,"column":24},"end":{"row":136,"column":26},"action":"remove","lines":["()"]},{"start":{"row":136,"column":23},"end":{"row":136,"column":24},"action":"remove","lines":["r"]},{"start":{"row":136,"column":22},"end":{"row":136,"column":23},"action":"remove","lines":["e"]},{"start":{"row":136,"column":21},"end":{"row":136,"column":22},"action":"remove","lines":["d"]},{"start":{"row":136,"column":20},"end":{"row":136,"column":21},"action":"remove","lines":["r"]},{"start":{"row":136,"column":19},"end":{"row":136,"column":20},"action":"remove","lines":["o"]},{"start":{"row":136,"column":18},"end":{"row":136,"column":19},"action":"remove","lines":["."]},{"start":{"row":136,"column":17},"end":{"row":136,"column":18},"action":"remove","lines":["."]},{"start":{"row":136,"column":16},"end":{"row":136,"column":17},"action":"remove","lines":["e"]},{"start":{"row":136,"column":15},"end":{"row":136,"column":16},"action":"remove","lines":["d"]},{"start":{"row":136,"column":14},"end":{"row":136,"column":15},"action":"remove","lines":["("]},{"start":{"row":136,"column":13},"end":{"row":136,"column":14},"action":"remove","lines":["r"]},{"start":{"row":136,"column":12},"end":{"row":136,"column":13},"action":"remove","lines":["e"]}],[{"start":{"row":136,"column":11},"end":{"row":136,"column":12},"action":"remove","lines":["d"],"id":619},{"start":{"row":136,"column":10},"end":{"row":136,"column":11},"action":"remove","lines":["r"]},{"start":{"row":136,"column":9},"end":{"row":136,"column":10},"action":"remove","lines":["o"]},{"start":{"row":136,"column":8},"end":{"row":136,"column":9},"action":"remove","lines":["."]},{"start":{"row":136,"column":4},"end":{"row":136,"column":8},"action":"remove","lines":["    "]},{"start":{"row":136,"column":0},"end":{"row":136,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":135,"column":23},"end":{"row":136,"column":0},"action":"remove","lines":["",""],"id":620}],[{"start":{"row":135,"column":23},"end":{"row":136,"column":0},"action":"insert","lines":["",""],"id":621},{"start":{"row":136,"column":0},"end":{"row":136,"column":8},"action":"insert","lines":["        "]},{"start":{"row":136,"column":8},"end":{"row":136,"column":9},"action":"insert","lines":["."]}],[{"start":{"row":136,"column":9},"end":{"row":136,"column":50},"action":"insert","lines":["ordering(function(d) { return -d.value })"],"id":622}],[{"start":{"row":136,"column":39},"end":{"row":136,"column":40},"action":"remove","lines":["-"],"id":623}],[{"start":{"row":136,"column":39},"end":{"row":136,"column":40},"action":"insert","lines":["+"],"id":624}],[{"start":{"row":136,"column":8},"end":{"row":136,"column":11},"action":"insert","lines":["// "],"id":625}],[{"start":{"row":136,"column":8},"end":{"row":136,"column":11},"action":"remove","lines":["// "],"id":626}],[{"start":{"row":131,"column":106},"end":{"row":131,"column":107},"action":"insert","lines":[","],"id":627}],[{"start":{"row":131,"column":107},"end":{"row":131,"column":116},"action":"insert","lines":["\"#00A3DF\""],"id":628}],[{"start":{"row":131,"column":97},"end":{"row":131,"column":106},"action":"remove","lines":["\"#91B905\""],"id":629}],[{"start":{"row":131,"column":42},"end":{"row":131,"column":51},"action":"insert","lines":["\"#91B905\""],"id":630}],[{"start":{"row":131,"column":51},"end":{"row":131,"column":52},"action":"insert","lines":[","],"id":631}],[{"start":{"row":131,"column":106},"end":{"row":131,"column":107},"action":"remove","lines":[" "],"id":632},{"start":{"row":131,"column":105},"end":{"row":131,"column":106},"action":"remove","lines":[","]}],[{"start":{"row":131,"column":51},"end":{"row":131,"column":61},"action":"remove","lines":[",\"#00A3DF\""],"id":633}],[{"start":{"row":131,"column":105},"end":{"row":131,"column":115},"action":"insert","lines":[",\"#00A3DF\""],"id":634}],[{"start":{"row":131,"column":53},"end":{"row":131,"column":64},"action":"remove","lines":["\"#12A853\", "],"id":635}],[{"start":{"row":131,"column":95},"end":{"row":131,"column":106},"action":"insert","lines":["\"#12A853\", "],"id":636}],[{"start":{"row":130,"column":20},"end":{"row":131,"column":0},"action":"insert","lines":["",""],"id":637},{"start":{"row":131,"column":0},"end":{"row":131,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":131,"column":8},"end":{"row":131,"column":118},"action":"insert","lines":[".colors(d3.scale.ordinal().range([\"#91B905\", \"#8B8C8A\", \"#014B45\", \"#D6323D\",\"#00A3DF\",\"#12A853\", \"#00A3DF\"]))"],"id":638}],[{"start":{"row":132,"column":8},"end":{"row":132,"column":11},"action":"insert","lines":["// "],"id":639}],[{"start":{"row":131,"column":64},"end":{"row":131,"column":73},"action":"remove","lines":["\"#014B45\""],"id":640},{"start":{"row":131,"column":64},"end":{"row":131,"column":73},"action":"insert","lines":["\"#8B8C8A\""]}],[{"start":{"row":131,"column":75},"end":{"row":131,"column":84},"action":"remove","lines":["\"#D6323D\""],"id":641},{"start":{"row":131,"column":75},"end":{"row":131,"column":84},"action":"insert","lines":["\"#8B8C8A\""]}],[{"start":{"row":131,"column":85},"end":{"row":131,"column":94},"action":"remove","lines":["\"#00A3DF\""],"id":642},{"start":{"row":131,"column":85},"end":{"row":131,"column":94},"action":"insert","lines":["\"#8B8C8A\""]}],[{"start":{"row":131,"column":95},"end":{"row":131,"column":104},"action":"remove","lines":["\"#12A853\""],"id":643},{"start":{"row":131,"column":95},"end":{"row":131,"column":104},"action":"insert","lines":["\"#8B8C8A\""]}],[{"start":{"row":131,"column":106},"end":{"row":131,"column":115},"action":"remove","lines":["\"#00A3DF\""],"id":644},{"start":{"row":131,"column":106},"end":{"row":131,"column":115},"action":"insert","lines":["\"#8B8C8A\""]}],[{"start":{"row":131,"column":53},"end":{"row":131,"column":62},"action":"remove","lines":["\"#8B8C8A\""],"id":645},{"start":{"row":131,"column":53},"end":{"row":131,"column":60},"action":"insert","lines":["#D6323D"]}],[{"start":{"row":131,"column":60},"end":{"row":131,"column":61},"action":"insert","lines":["\""],"id":646}],[{"start":{"row":131,"column":53},"end":{"row":131,"column":54},"action":"insert","lines":["\""],"id":647}],[{"start":{"row":131,"column":65},"end":{"row":131,"column":72},"action":"remove","lines":["#8B8C8A"],"id":648},{"start":{"row":131,"column":65},"end":{"row":131,"column":72},"action":"insert","lines":["#014B45"]}],[{"start":{"row":131,"column":86},"end":{"row":131,"column":93},"action":"remove","lines":["#8B8C8A"],"id":649},{"start":{"row":131,"column":86},"end":{"row":131,"column":93},"action":"insert","lines":["#12A853"]}],[{"start":{"row":131,"column":95},"end":{"row":131,"column":104},"action":"remove","lines":["\"#8B8C8A\""],"id":650},{"start":{"row":131,"column":95},"end":{"row":131,"column":102},"action":"insert","lines":["#00A3DF"]}],[{"start":{"row":131,"column":102},"end":{"row":131,"column":103},"action":"insert","lines":["\""],"id":651}],[{"start":{"row":131,"column":95},"end":{"row":131,"column":96},"action":"insert","lines":["\""],"id":652}],[{"start":{"row":131,"column":104},"end":{"row":131,"column":105},"action":"remove","lines":[","],"id":653},{"start":{"row":131,"column":104},"end":{"row":131,"column":105},"action":"remove","lines":[" "]},{"start":{"row":131,"column":104},"end":{"row":131,"column":105},"action":"remove","lines":["\""]},{"start":{"row":131,"column":104},"end":{"row":131,"column":105},"action":"remove","lines":["#"]},{"start":{"row":131,"column":104},"end":{"row":131,"column":105},"action":"remove","lines":["8"]},{"start":{"row":131,"column":104},"end":{"row":131,"column":105},"action":"remove","lines":["B"]},{"start":{"row":131,"column":104},"end":{"row":131,"column":105},"action":"remove","lines":["8"]},{"start":{"row":131,"column":104},"end":{"row":131,"column":105},"action":"remove","lines":["C"]},{"start":{"row":131,"column":104},"end":{"row":131,"column":105},"action":"remove","lines":["8"]}],[{"start":{"row":131,"column":104},"end":{"row":131,"column":105},"action":"remove","lines":["A"],"id":654},{"start":{"row":131,"column":104},"end":{"row":131,"column":105},"action":"remove","lines":["\""]}],[{"start":{"row":132,"column":1},"end":{"row":132,"column":121},"action":"remove","lines":["       // .colors(d3.scale.ordinal().range([\"#91B905\", \"#8B8C8A\", \"#014B45\", \"#D6323D\",\"#00A3DF\",\"#12A853\", \"#00A3DF\"]))"],"id":655},{"start":{"row":132,"column":1},"end":{"row":133,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":21,"column":0},"end":{"row":21,"column":1},"action":"remove","lines":[" "],"id":656},{"start":{"row":35,"column":0},"end":{"row":35,"column":3},"action":"remove","lines":["   "]},{"start":{"row":131,"column":85},"end":{"row":131,"column":86},"action":"insert","lines":[" "]},{"start":{"row":131,"column":96},"end":{"row":131,"column":97},"action":"insert","lines":[" "]},{"start":{"row":132,"column":0},"end":{"row":132,"column":1},"action":"remove","lines":[" "]},{"start":{"row":227,"column":0},"end":{"row":227,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":135,"column":23},"end":{"row":136,"column":0},"action":"insert","lines":["",""],"id":657},{"start":{"row":136,"column":0},"end":{"row":136,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":136,"column":8},"end":{"row":136,"column":43},"action":"insert","lines":[".nv-x .tick line { display: none; }"],"id":658}],[{"start":{"row":136,"column":6},"end":{"row":136,"column":43},"action":"remove","lines":["  .nv-x .tick line { display: none; }"],"id":667}],[{"start":{"row":135,"column":23},"end":{"row":136,"column":0},"action":"insert","lines":["",""],"id":668},{"start":{"row":136,"column":0},"end":{"row":136,"column":8},"action":"insert","lines":["        "]}],[{"start":{"row":136,"column":8},"end":{"row":136,"column":26},"action":"insert","lines":[".yAxis().ticks(10)"],"id":669}],[{"start":{"row":136,"column":9},"end":{"row":136,"column":10},"action":"remove","lines":["y"],"id":670}],[{"start":{"row":136,"column":9},"end":{"row":136,"column":10},"action":"insert","lines":["x"],"id":671}],[{"start":{"row":136,"column":6},"end":{"row":136,"column":26},"action":"remove","lines":["  .xAxis().ticks(10)"],"id":672},{"start":{"row":136,"column":6},"end":{"row":137,"column":6},"action":"remove","lines":["","      "]},{"start":{"row":136,"column":6},"end":{"row":137,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":180,"column":1},"end":{"row":181,"column":0},"action":"insert","lines":["",""],"id":673},{"start":{"row":181,"column":0},"end":{"row":182,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":222,"column":0},"end":{"row":223,"column":0},"action":"insert","lines":["",""],"id":675},{"start":{"row":223,"column":0},"end":{"row":224,"column":0},"action":"insert","lines":["",""]},{"start":{"row":224,"column":0},"end":{"row":225,"column":0},"action":"insert","lines":["",""]},{"start":{"row":225,"column":0},"end":{"row":226,"column":0},"action":"insert","lines":["",""]},{"start":{"row":226,"column":0},"end":{"row":227,"column":0},"action":"insert","lines":["",""]},{"start":{"row":227,"column":0},"end":{"row":228,"column":0},"action":"insert","lines":["",""]},{"start":{"row":228,"column":0},"end":{"row":229,"column":0},"action":"insert","lines":["",""]},{"start":{"row":229,"column":0},"end":{"row":230,"column":0},"action":"insert","lines":["",""]},{"start":{"row":230,"column":0},"end":{"row":231,"column":0},"action":"insert","lines":["",""]},{"start":{"row":231,"column":0},"end":{"row":232,"column":0},"action":"insert","lines":["",""]},{"start":{"row":232,"column":0},"end":{"row":233,"column":0},"action":"insert","lines":["",""]},{"start":{"row":233,"column":0},"end":{"row":234,"column":0},"action":"insert","lines":["",""]},{"start":{"row":234,"column":0},"end":{"row":235,"column":0},"action":"insert","lines":["",""]},{"start":{"row":235,"column":0},"end":{"row":236,"column":0},"action":"insert","lines":["",""]},{"start":{"row":236,"column":0},"end":{"row":237,"column":0},"action":"insert","lines":["",""]},{"start":{"row":237,"column":0},"end":{"row":238,"column":0},"action":"insert","lines":["",""]},{"start":{"row":238,"column":0},"end":{"row":239,"column":0},"action":"insert","lines":["",""]},{"start":{"row":239,"column":0},"end":{"row":240,"column":0},"action":"insert","lines":["",""]},{"start":{"row":240,"column":0},"end":{"row":241,"column":0},"action":"insert","lines":["",""]},{"start":{"row":241,"column":0},"end":{"row":242,"column":0},"action":"insert","lines":["",""]},{"start":{"row":242,"column":0},"end":{"row":243,"column":0},"action":"insert","lines":["",""]},{"start":{"row":243,"column":0},"end":{"row":244,"column":0},"action":"insert","lines":["",""]},{"start":{"row":244,"column":0},"end":{"row":245,"column":0},"action":"insert","lines":["",""]},{"start":{"row":245,"column":0},"end":{"row":246,"column":0},"action":"insert","lines":["",""]},{"start":{"row":246,"column":0},"end":{"row":247,"column":0},"action":"insert","lines":["",""]},{"start":{"row":247,"column":0},"end":{"row":248,"column":0},"action":"insert","lines":["",""]},{"start":{"row":248,"column":0},"end":{"row":249,"column":0},"action":"insert","lines":["",""]},{"start":{"row":249,"column":0},"end":{"row":250,"column":0},"action":"insert","lines":["",""]},{"start":{"row":250,"column":0},"end":{"row":251,"column":0},"action":"insert","lines":["",""]},{"start":{"row":251,"column":0},"end":{"row":252,"column":0},"action":"insert","lines":["",""]},{"start":{"row":252,"column":0},"end":{"row":253,"column":0},"action":"insert","lines":["",""]},{"start":{"row":253,"column":0},"end":{"row":254,"column":0},"action":"insert","lines":["",""]},{"start":{"row":254,"column":0},"end":{"row":255,"column":0},"action":"insert","lines":["",""]},{"start":{"row":255,"column":0},"end":{"row":256,"column":0},"action":"insert","lines":["",""]},{"start":{"row":256,"column":0},"end":{"row":257,"column":0},"action":"insert","lines":["",""]},{"start":{"row":257,"column":0},"end":{"row":258,"column":0},"action":"insert","lines":["",""]},{"start":{"row":258,"column":0},"end":{"row":259,"column":0},"action":"insert","lines":["",""]},{"start":{"row":259,"column":0},"end":{"row":260,"column":0},"action":"insert","lines":["",""]},{"start":{"row":260,"column":0},"end":{"row":261,"column":0},"action":"insert","lines":["",""]},{"start":{"row":261,"column":0},"end":{"row":262,"column":0},"action":"insert","lines":["",""]},{"start":{"row":262,"column":0},"end":{"row":263,"column":0},"action":"insert","lines":["",""]},{"start":{"row":263,"column":0},"end":{"row":264,"column":0},"action":"insert","lines":["",""]},{"start":{"row":264,"column":0},"end":{"row":265,"column":0},"action":"insert","lines":["",""]},{"start":{"row":265,"column":0},"end":{"row":266,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":228,"column":0},"end":{"row":308,"column":1},"action":"insert","lines":["function show_data_table(ndx) {","","    var dim = ndx.dimension(function(d) { return d.dim; });","","    var table = dc.dataTable(\"#dc-data-table\") /* variable created for pagination */","","        .dimension(dim)","        .group(function(d) { return \"\"; })","        .size(Infinity) /* Adjust amount of rows here. Use 'Infinity' to show all data */","","        .columns([","            function(d) { return d.Region; },","            function(d) { return d.Constituency_Name; },","            function(d) { return d.Candidate; }","            // function(d) { return d.Activity; },","            // function(d) { return d.Sex; },","            // function(d) { return d.Age; },","            // function(d) { return d.Fatal; },","            // function(d) { return d.Species; }","","        ]).sortBy(function(d) {","            return d.Region; /* sortBy return = d.Year will sort data by years */","        })","        .order(d3.descending) /* reinsert ; after final peice of this section */","","        /* pagination */ ","","        .on('preRender', update_offset)","        .on('preRedraw', update_offset)","        .on('pretransition', display);","","","    /* use odd page size to show the effect better */","    var ofs = 0,","        pag = 7;","","    function update_offset() {","        var totFilteredRecs = ndx.groupAll().value();","        var end = ofs + pag > totFilteredRecs ? totFilteredRecs : ofs + pag;","        ofs = ofs >= totFilteredRecs ? Math.floor((totFilteredRecs - 1) / pag) * pag : ofs;","        ofs = ofs < 0 ? 0 : ofs;","        table.beginSlice(ofs); /*table used as variable for dc.dataTable(\"#dc-data-table\") */","        table.endSlice(ofs + pag); /*table used as variable for dc.dataTable(\"#dc-data-table\")*/","    }","","    function display() {","        var totFilteredRecs = ndx.groupAll().value();","        var end = ofs + pag > totFilteredRecs ? totFilteredRecs : ofs + pag;","        d3.select('#begin')","            .text(end === 0 ? ofs : ofs + 1);","        d3.select('#end')","            .text(end);","        d3.select('#last')","            .attr('disabled', ofs - pag < 0 ? 'true' : null);","        d3.select('#next')","            .attr('disabled', ofs + pag >= totFilteredRecs ? 'true' : null);","        d3.select('#size').text(totFilteredRecs);","        if (totFilteredRecs != ndx.size()) {","            d3.select('#totalsize').text(\"(filtered Total: \" + ndx.size() + \" )\");","        }","        else {","            d3.select('#totalsize').text('');","        }","    }","","    $('#next').on('click', function() {","        ofs += pag;","        update_offset();","        table.redraw();","    });","    /* Event Listener function that fires when \"next\" HTML btn is clicked */  ","","","    $('#last').on('click', function() {","        ofs -= pag;","        update_offset();","        table.redraw();","    });","    /* Event Listener function that fires when \"last\" HTML btn is clicked */","","}"],"id":676}],[{"start":{"row":20,"column":26},"end":{"row":21,"column":0},"action":"insert","lines":["",""],"id":677},{"start":{"row":21,"column":0},"end":{"row":21,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":21,"column":4},"end":{"row":21,"column":24},"action":"insert","lines":["show_data_table(ndx)"],"id":678}],[{"start":{"row":21,"column":24},"end":{"row":21,"column":25},"action":"insert","lines":[";"],"id":679}],[{"start":{"row":21,"column":4},"end":{"row":21,"column":7},"action":"insert","lines":["// "],"id":680}],[{"start":{"row":229,"column":0},"end":{"row":309,"column":1},"action":"remove","lines":["function show_data_table(ndx) {","","    var dim = ndx.dimension(function(d) { return d.dim; });","","    var table = dc.dataTable(\"#dc-data-table\") /* variable created for pagination */","","        .dimension(dim)","        .group(function(d) { return \"\"; })","        .size(Infinity) /* Adjust amount of rows here. Use 'Infinity' to show all data */","","        .columns([","            function(d) { return d.Region; },","            function(d) { return d.Constituency_Name; },","            function(d) { return d.Candidate; }","            // function(d) { return d.Activity; },","            // function(d) { return d.Sex; },","            // function(d) { return d.Age; },","            // function(d) { return d.Fatal; },","            // function(d) { return d.Species; }","","        ]).sortBy(function(d) {","            return d.Region; /* sortBy return = d.Year will sort data by years */","        })","        .order(d3.descending) /* reinsert ; after final peice of this section */","","        /* pagination */ ","","        .on('preRender', update_offset)","        .on('preRedraw', update_offset)","        .on('pretransition', display);","","","    /* use odd page size to show the effect better */","    var ofs = 0,","        pag = 7;","","    function update_offset() {","        var totFilteredRecs = ndx.groupAll().value();","        var end = ofs + pag > totFilteredRecs ? totFilteredRecs : ofs + pag;","        ofs = ofs >= totFilteredRecs ? Math.floor((totFilteredRecs - 1) / pag) * pag : ofs;","        ofs = ofs < 0 ? 0 : ofs;","        table.beginSlice(ofs); /*table used as variable for dc.dataTable(\"#dc-data-table\") */","        table.endSlice(ofs + pag); /*table used as variable for dc.dataTable(\"#dc-data-table\")*/","    }","","    function display() {","        var totFilteredRecs = ndx.groupAll().value();","        var end = ofs + pag > totFilteredRecs ? totFilteredRecs : ofs + pag;","        d3.select('#begin')","            .text(end === 0 ? ofs : ofs + 1);","        d3.select('#end')","            .text(end);","        d3.select('#last')","            .attr('disabled', ofs - pag < 0 ? 'true' : null);","        d3.select('#next')","            .attr('disabled', ofs + pag >= totFilteredRecs ? 'true' : null);","        d3.select('#size').text(totFilteredRecs);","        if (totFilteredRecs != ndx.size()) {","            d3.select('#totalsize').text(\"(filtered Total: \" + ndx.size() + \" )\");","        }","        else {","            d3.select('#totalsize').text('');","        }","    }","","    $('#next').on('click', function() {","        ofs += pag;","        update_offset();","        table.redraw();","    });","    /* Event Listener function that fires when \"next\" HTML btn is clicked */  ","","","    $('#last').on('click', function() {","        ofs -= pag;","        update_offset();","        table.redraw();","    });","    /* Event Listener function that fires when \"last\" HTML btn is clicked */","","}"],"id":681}],[{"start":{"row":21,"column":4},"end":{"row":21,"column":28},"action":"remove","lines":["// show_data_table(ndx);"],"id":682}],[{"start":{"row":224,"column":11},"end":{"row":224,"column":20},"action":"remove","lines":["data.json"],"id":686},{"start":{"row":224,"column":11},"end":{"row":224,"column":40},"action":"insert","lines":["assets/data/election-2016.csv"]}],[{"start":{"row":223,"column":0},"end":{"row":225,"column":27},"action":"insert","lines":["","  d3.json(\"data.json\", function(error, data) {","    if (error) throw error;"],"id":685}],[{"start":{"row":226,"column":0},"end":{"row":368,"column":3},"action":"insert","lines":["    var tableHeader = d3.select(\".table-header\")","      .selectAll(\"th\");","","    // Bind data to tableHeader selection.","    tableHeader = tableHeader.data(","      [","        {label: \"Region\", field_name: \"Region\", sort_state: \"ascending\"},","        {label: \"Constituency_Name\", field_name: \"Constituency_Name\", sort_state: \"ascending\"},","        {label: \"Candidate\", field_name: \"Candidate\", sort_state: \"ascending\"},","        {label: \"Gender\", field_name: \"Gender\", sort_state: \"ascending\"},","        {label: \"Party\", field_name: \"Party\", sort_state: \"descending\"} // Note Party row starts off as descending","      ]","    );","","    // enter() into virtual selection and create new <th> header elements for each table column","    tableHeader = tableHeader.enter()","      .append(\"th\")","        .text(function (d) { return d.label; }) // Accessor function for header titles","        .on(\"click\", tableHeaderCallback);","","    function tableHeaderCallback(d) {","      // Highlight column header being sorted and show bootstrap glyphicon","      var activeClass = \"info\";","","      d3.selectAll(\"#dc-table-graph th\") // Disable all highlighting and icons","          .classed(activeClass, false)","        .selectAll(\"span\")","          .style(\"visibility\", \"hidden\") // Hide glyphicon","","      var activeSpan = d3.select(this) // Enable active highlight and icon for active column for sorting","          .classed(activeClass, true)  // Set bootstrap \"info\" class on active header for highlight","        .select(\"span\")","          .style(\"visibility\", \"visible\");","","      // Toggle sort order state to user desired state","      d.sort_state = d.sort_state === \"ascending\" ? \"descending\" : \"ascending\";","","      var isAscendingOrder = d.sort_state === \"ascending\";","      dataTable","        .order(isAscendingOrder ? d3.ascending : d3.descending)","        .sortBy(function(datum) { return datum[d.field_name]; });","","      // Reset glyph icon for all other headers and update this headers icon","      activeSpan.node().className = ''; // Remove all glyphicon classes","","      // Toggle glyphicon based on ascending/descending sort_state","      activeSpan.classed(","        isAscendingOrder ? \"glyphicon glyphicon-sort-by-attributes\" :","          \"glyphicon glyphicon-sort-by-attributes-alt\", true);","","      updateTable();","      dataTable.redraw();","    }","    // Initialize sort state and sort icon on one of the header columns","    // Highlight \"Party\" cell on page load","    // This can be done programmatically for user specified column","    tableHeader.filter(function(d) { return d.label === \"Party\"; })","        .classed(\"info\", true);","","    var tableSpans = tableHeader","      .append(\"span\") // For Sort glyphicon on active table headers","        .classed(\"glyphicon glyphicon-sort-by-attributes-alt\", true)","        .style(\"visibility\", \"hidden\")","      .filter(function(d) { return d.label === \"Party\"; })","        .style(\"visibility\", \"visible\");","","    cf = crossfilter(data); // Main crossfilter objects","","","    // Setup different dimensions for plots","    dim.tableMaxConfidence = cf.dimension(function (d) {","      return d.Party;","    });","","    // ##############################","    // Generate the dc.js dataTable","    // ##############################","    // Create generating functions for each columns","    var columnFunctions = [","      function(d) { return d.Region; },","      function(d) { return d.Constituency_Name; },","      function(d) { return d.Candidate; },","      function(d) { return d.Gender; },","      function(d) { return d.Party; },","    ];","","    // Pagination implementation inspired by:","    // https://github.com/dc-js/dc.js/blob/master/web/examples/table-pagination.html","    dataTable.width(960).height(800)","      .dimension(dim.tableMaxConfidence)","      .group(function(d) { return \"Dummy\"}) // Must pass in. Ignored since .showGroups(false)","      .size(Infinity)","      .columns(columnFunctions)","      .showGroups(false)","      .sortBy(function(d){ return d.Party; }) // Initially sort by Party column","      .order(d3.descending);","","    updateTable();","    dataTable.redraw();","  }); // End d3.json callback function","","  // Data Table Pagination","  var tableOffset = 0, tablePageSize = 10;","","  // updateTable calculates correct start and end indices for current page view","  // it slices and pulls appropriate date for current page from dataTable object","  // Finally, it updates the pagination button states depending on if more records","  // are available","  function updateTable() {","    // Ensure Prev/Next bounds are correct, especially after filters applied to dc charts","    var totFilteredRecs = cf.groupAll().value();","    // Adjust values of start and end record numbers for edge cases","    var end = tableOffset + tablePageSize > totFilteredRecs ? totFilteredRecs : tableOffset + tablePageSize;","    tableOffset = tableOffset >= totFilteredRecs ? Math.floor((totFilteredRecs - 1) / tablePageSize) * tablePageSize : tableOffset;","    tableOffset = tableOffset < 0 ? 0 : tableOffset; // In case of zero entries","","    // Grab data for current page from the dataTable object","    dataTable.beginSlice(tableOffset);","    dataTable.endSlice(tableOffset + tablePageSize);","","    // Update Table paging buttons and footer text","    d3.select('span#begin')","        .text(end === 0 ? tableOffset : tableOffset + 1); // Correct for \"Showing 1 of 0\" bug","    d3.select('span#end')","        .text(end);","    d3.select('#Prev.btn')","        .attr('disabled', tableOffset - tablePageSize < 0 ? 'true' : null);","    d3.select('#Next.btn')","        .attr('disabled', tableOffset + tablePageSize >= totFilteredRecs ? 'true' : null);","    d3.select('span#size').text(totFilteredRecs);","","    dataTable.redraw();","  }","  // Callback function for clicking \"Next\" page button","  function nextPage() {","      tableOffset += tablePageSize;","      updateTable();","  }","  // Callback function for clicking \"Prev\" page button","  function prevPage() {","      tableOffset -= tablePageSize;","      updateTable();","  }"],"id":684}]]},"ace":{"folds":[{"start":{"row":143,"column":61},"end":{"row":181,"column":0},"placeholder":"..."}],"scrolltop":2469,"scrollleft":0,"selection":{"start":{"row":226,"column":0},"end":{"row":226,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":213,"state":"no_regex","mode":"ace/mode/javascript"}},"timestamp":1570389609461,"hash":"5d80b9b0fae9266fb2b4de355a5557aec1516e7e"}